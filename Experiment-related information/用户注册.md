# 用户注册

1.创建用户表



2.注册-持久层  通过MyBatis来操作数据库
2.1 sql语句
1.用户的注册功能

```
```

2.在用户注册时查询当前用户名是否存在，若存在则不能进行注册

`````
`````



2.2 设计接口和抽象方法
定义Mapper接口



3.注册-业务层

3.1 规划异常

1.RuntimeException异常，作为异常的子类，然后再去定义具体的异常类型来继承这个异常，

业务层异常的基类：ServiceException异常继承RuntimeException

2.用户名被占用的异常：UsernameDuplicatedException

3.站在执行数据插入的时候，服务器数据库宕机等的异常：InsertException



3.2 设计接口和抽象方法

1.在service包下创建UserService接口

2.创建实现类UserServiceImpl，实现接口和抽象方法



4.注册-控制层
4.1创建响应
状态码、状态描述信息、数据，封装到一个类中，将这类作为方法返回值，返回给前端浏览器

4.2设计请求

依据当前的业务功能模块
```
请求路径：/user/reg
请求参数：User user
请求类型：POST
响应结果：JsonResult<void>
```

4.3处理请求

1.创建一个控制层对应的类UserController类，依赖于业务层的接口

4.4控制层优化设计

在控制层抽离一个父类，在这个父类中统一去处理关于异常的相关操作，BaseController类